jQuery(function(r){r.fn.siteoriginCorpIsVisible=function(){var o=this[0].getBoundingClientRect();return 0<=o.bottom&&0<=o.right&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)};r(document).mousemove(function(o){({x:o.pageX,y:o.pageY})}),void 0!==r.fn.fitVids&&r(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),r(document).ready(function(){r(".flexslider").each(function(){r(this).flexslider({animation:"slide",customDirectionNav:r(this).find(".flex-direction-nav a"),start:function(){r(".flexslider .slides img").show()}})})}),r("body.no-js").removeClass("no-js"),r("body").hasClass("css3-animations")&&(r(".menu-item").children("a").focus(function(){r(this).parents("ul, li").addClass("focus")}),r(".menu-item").children("a").click(function(){r(this).parents("ul, li").removeClass("focus")}),r(".menu-item").children("a").focusout(function(){r(this).parents("ul, li").removeClass("focus")})),r(document).ready(function(o){window.location.hash||(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o(window).scroll(function(){o("#site-navigation ul li").hasClass("current")?(o("#site-navigation li").removeClass("current-menu-item"),o("#site-navigation li.current-menu-ancestor").removeClass("current-menu-ancestor current-menu-parent")):0==o(document).scrollTop()&&(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o('#site-navigation a[href="'+window.location.href+'"]').parents("li.menu-item-has-children").addClass("current-menu-ancestor current-menu-parent"))}))}),headerHeight=function(){var o=r("#wpadminbar").outerHeight(),t=r("body").hasClass("admin-bar"),e=r("header").hasClass("sticky");return e&&t&&600<r(window).width()?o+r("header").outerHeight()-1:e?r("header").outerHeight()-1:0},r.fn.siteoriginCorpSmoothScroll=function(){r("body").hasClass("disable-smooth-scroll")||r(this).click(function(o){var t=this.hash.substring(1);if(0<r(".panel-grid [id*="+t+"]").length?(r("#site-navigation .current").removeClass("current"),r(this).parent("li").addClass("current")):r("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=r(this.hash);if((e=e.length?e:r("[name="+this.hash.slice(1)+"]")).length)return r("html, body").animate({scrollTop:e.offset().top-headerHeight()},{duration:1200,start:function(){r("html, body").on("wheel touchmove",function(){r("html, body").stop().off("wheel touchmove")})},complete:function(){r("html, body").finish().off("wheel touchmove")}}),!1}})},r(window).load(function(){r('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .woocommerce-review-link[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),r(window).load(function(){if(location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var o=r(window.location.hash);if(o.length)return r("html, body").animate({scrollTop:o.offset().top-headerHeight()},0),!1}}),r(window).on("scroll",function(){var s=r(window).scrollTop(),a="no";r(".panel-row-style").each(function(){var o="#"+r(this).attr("id"),t=r(this).offset().top-1,e=r(this).outerHeight(),i=t-headerHeight(),n=t+e-headerHeight();if(i<=s&&s<=n)return a="yes",r("#site-navigation .current").removeClass("current"),r('#site-navigation a[href$="'+o+'"]').parent("li").addClass("current"),!1;"no"===a&&r("#site-navigation .current").removeClass("current")})});var i=!1;r("#mobile-menu-button").click(function(o){o.preventDefault();var t=r(this);if(t.toggleClass("to-close"),!1===i){(i=r("<div></div>").append(r(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide()).find("#primary-menu").show().css("opacity",1),i.find(".menu-item-has-children > a").addClass("has-dropdown"),i.find(".page_item_has_children > a").addClass("has-dropdown"),i.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-angle-down" aria-hidden="true"></i></button>'),i.find(".dropdown-toggle").click(function(o){o.preventDefault(),r(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),i.find(".has-dropdown").click(function(o){void 0!==r(this).attr("href")&&"#"!=r(this).attr("href")||(o.preventDefault(),r(this).siblings(".dropdown-toggle").trigger("click"))});function e(){if(r("#masthead").hasClass("sticky")){var o="fixed"===r("#wpadminbar").css("position")?r("#wpadminbar").outerHeight():0,t=r("#masthead").innerHeight(),e=r(window).height()-t-o;r("#mobile-navigation").css("max-height",e)}}e(),r(window).resize(e),r("#mobile-navigation").scroll(e)}i.slideToggle("fast"),r("#mobile-navigation a").click(function(o){(!r(this).hasClass("has-dropdown")||void 0!==r(this).attr("href")&&"#"!==r(this).attr("href"))&&i.is(" :visible")&&i.slideUp("fast"),t.removeClass("to-close")}),r('#mobile-navigation a[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),r("#search-button").click(function(o){o.preventDefault();var t=r(this);t.toggleClass("close-search"),r("input[type='search']").each(function(){r(this).attr("size",r(this).attr("placeholder").length)});function e(){var o=r(window).width(),t=r(window).height();r("#fullscreen-search").css({height:t+"px",width:o+"px"})}e(),r(window).resize(e),t.hasClass("close-search")?(r("body").css("margin-right",window.innerWidth-r("body").width()+"px"),r("body").css("overflow","hidden")):(r("body").css("overflow",""),r("body").css("margin-right","")),r("#fullscreen-search").slideToggle("fast"),r("#fullscreen-search input").focus()}),r("#fullscreen-search-form").submit(function(){r(this).find("button svg").hide(),r(this).find("button svg:last-child").show()}),r("#fullscreen-search #search-close-button").click(function(o){o.preventDefault(),r("#search-button.close-search").trigger("click")}),r(document).keyup(function(o){27===o.keyCode&&r("#search-button.close-search").trigger("click")});function o(){(window.pageYOffset||document.documentElement.scrollTop)>r("#masthead").outerHeight()?r("#scroll-to-top").hasClass("show")||r("#scroll-to-top").css("pointer-events","auto").addClass("show"):r("#scroll-to-top").hasClass("show")&&r("#scroll-to-top").css("pointer-events","none").removeClass("show")}o(),r(window).scroll(o),r("#scroll-to-top").click(function(){r("html, body").animate({scrollTop:0})}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(r("body").css("cursor","pointer"),r("body").addClass("ios")),r(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){r(this).on("click touchend",function(o){var t=r(this);o.stopPropagation(),"click"!=o.type&&(t.parent().hasClass("hover")||(r(".menu-item.hover").removeClass("hover"),t.parents(".menu-item").addClass("hover"),o.preventDefault()),r(document).one("click",function(){t.parent().removeClass("hover")}))})})),r("#portfolio-loop").length&&($infinite_scroll=0,r(document.body).on("post-load",function(){var o=r("#portfolio-loop");$infinite_scroll+=1;o=r("#projects-container");var t=r("#infinite-view-"+$infinite_scroll).find(".jetpack-portfolio.post");t.hide(),o.append(t).isotope("appended",t)}))}),function(p){p(window).load(function(){siteoriginCorp.logoScale=parseFloat(siteoriginCorp.logoScale),p(".blog-layout-masonry").length&&p(".blog-layout-masonry").masonry({itemSelector:".hentry",columnWidth:".hentry"});var t=p("#projects-container");p(".portfolio-filter-terms").length&&t.isotope({itemSelector:".post",filter:"*",layoutMode:"fitRows",resizable:!0}),p(".portfolio-filter-terms button").click(function(){var o=p(this).attr("data-filter");return t.isotope({filter:o}),p(".portfolio-filter-terms button").removeClass("active"),p(this).addClass("active"),!1});var i=p("#masthead"),n={top:parseInt(i.css("padding-top")),bottom:parseInt(i.css("padding-bottom"))};if(i.data("scale-logo")){var s=i.find(".site-branding img"),o=s.width(),e=s.height(),a=o*siteoriginCorp.logoScale,r=e*siteoriginCorp.logoScale;p(".site-branding img").wrap("<div class='custom-logo-wrapper'></div>");function l(){var o=i.find(".site-branding > *"),t=window.pageYOffset||document.documentElement.scrollTop;if(0<t?i.css({"padding-top":n.top*siteoriginCorp.logoScale,"padding-bottom":n.bottom*siteoriginCorp.logoScale}).addClass("stuck"):i.css({"padding-top":n.top,"padding-bottom":n.bottom}).removeClass("stuck"),s.length)if(0<t){var e=siteoriginCorp.logoScale+Math.max(0,48-t)/48*(1-siteoriginCorp.logoScale);s.height()==r&&s.width()==a&&e==siteoriginCorp.logoScale||p(".site-branding img").css({width:100*e+"%"})}else p(".site-branding img").css({width:""});else 0<t?o.css("transform","scale("+siteoriginCorp.logoScale+")"):o.css("transform","scale(1)")}l(),p(window).scroll(l).resize(l)}if(p("#masthead").hasClass("sticky")){i=p("#masthead");function c(){0<p(window).scrollTop()?p(i).addClass("stuck"):p(i).removeClass("stuck")}var d=p('<div class="masthead-sentinel"></div>').insertAfter(i),h=p("#topbar"),u=p('#topbar .woocommerce-store-notice[style*="display: none"]');c(),p(window).scroll(c);function m(){p("body").hasClass("mobile-header-ns")&&p(window).width()<siteoriginCorp.collapse||(!1!==d&&d.css("height",i.outerHeight()),p("body").hasClass("no-topbar")||h.siteoriginCorpIsVisible()||p("body").addClass("topbar-out"),h.length&&p("body").hasClass("topbar-out")&&h.siteoriginCorpIsVisible()&&p("body").removeClass("topbar-out"),p("body").hasClass("no-topbar")&&!p(window).scrollTop()&&p("body").addClass("topbar-out"),p("body").hasClass("no-topbar")||!p("body").hasClass("no-topbar")&&p("body").hasClass("topbar-out")||u.length?i.css("position","fixed"):p("body").hasClass("no-topbar")||p("body").hasClass("topbar-out")||i.css("position","absolute"))}m(),p(window).resize(m).scroll(m)}})}(jQuery);